{"version":3,"sources":["vue.js"],"names":["Vue","mixin","data","windowWidth","window","innerWidth","computed","windowWidthPixels","mounted","addEventListener","updateWindowWidth","console","log","myVueObj","beforeDestroy","removeEventListener","methods","initialCartCount","cartCount","parseInt","el","navopen","mobileMenuOpen","cartQuantity","selectedCategories","sortOrder","shopProducts","showMobileFilter","showMobileFilterCategorys","showMobileFilterSort","showMobileFilterCategorysMobile","showMobileFilterSortMobile","showFilters","isMobile","filteredProducts","result","length","categorySlugs","map","cat","slug","filter","product","includes","category_slug","sort","a","b","Date","date","price","cartHasItems","createInlineStyles","inlineStyles","document","querySelectorAll","styleTag","createElement","type","body","appendChild","i","inlineStyle","style","getAttribute","innerHTML","addToCart","cartData","params","URLSearchParams","append","key","hasOwnProperty","response","fetch","ajaxUrl","method","headers","json","success","calculateCartQuantity","updateMenuCartDisplay","error","updateCartQuantity","updateData","removeFromCart","removeData","getCartCount","refreshCartCount","$forceUpdate","Object","values","reduce","sum","item","qty","quantity","menuLinks","textContent","indexOf","toggleCategory","category","index","findIndex","push","removeCategory","clearAllCategories","isCategorySelected","some","setSortOrder","order","toggleMobileMenu","nav","getElementById","classList","remove","add","closeMobileMenuOnLink","hamburger","querySelector","navLinks","forEach","link"],"mappings":"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","file":"vue.min.js","sourcesContent":["// Enhanced Vue Parent File with multi-select category filtering\nVue.mixin({\n    data() {\n        return {\n            windowWidth: window.innerWidth\n        };\n    },\n    computed: {\n        windowWidthPixels() {\n            return this.windowWidth;\n        }\n    },\n    mounted() {\n        window.addEventListener(\"resize\", this.updateWindowWidth);\n        console.log('myVueObj', myVueObj);\n    },\n    beforeDestroy() {\n        window.removeEventListener(\"resize\", this.updateWindowWidth);\n    },\n    methods: {\n        updateWindowWidth() {\n            this.windowWidth = window.innerWidth;\n        }\n    }\n});\n\n// Get cart count from the localized script\nconst initialCartCount = (typeof window.cartCount !== 'undefined')\n    ? parseInt(window.cartCount)\n    : 0;\n\n\nnew Vue({\n    el: \"#app\",\n    data: {\n        navopen: false,\n        mobileMenuOpen: false,\n        cartQuantity: initialCartCount,\n        // Shop filtering and sorting data\n        selectedCategories: [], // Array of objects: [{slug: 'category-slug', name: 'Category Name'}, ...]\n        sortOrder: 'newest',\n        shopProducts: typeof shopProducts !== 'undefined' ? shopProducts : [],\n        showMobileFilter: false,\n        showMobileFilterCategorys: true,\n        showMobileFilterSort: false,\n    },\n    computed: {\n        showMobileFilterCategorysMobile() {\n            return this.showMobileFilterCategorys && this.windowWidth < 768 || this.windowWidth > 768\n        },\n        showMobileFilterSortMobile() {\n            return this.showMobileFilterSort && this.windowWidth < 768 || this.windowWidth > 768\n        },\n        showFilters() {\n            return this.windowWidth > 768 || this.showMobileFilter;\n        },\n        isMobile() {\n            return this.windowWidth <= 768;\n        },\n        // Products filtered and sorted according to user selection\n        filteredProducts() {\n            // Start with all products\n            let result = [...this.shopProducts];\n\n            // Apply category filter\n            if (this.selectedCategories.length > 0) {\n                const categorySlugs = this.selectedCategories.map(cat => cat.slug);\n                result = result.filter(product =>\n                    categorySlugs.includes(product.category_slug)\n                );\n            }\n\n            // Apply sorting\n            switch (this.sortOrder) {\n                case 'newest':\n                    result.sort((a, b) => new Date(b.date) - new Date(a.date));\n                    break;\n                case 'oldest':\n                    result.sort((a, b) => new Date(a.date) - new Date(b.date));\n                    break;\n                case 'price-low':\n                    result.sort((a, b) => a.price - b.price);\n                    break;\n                case 'price-high':\n                    result.sort((a, b) => b.price - a.price);\n                    break;\n            }\n\n            return result;\n        },\n        cartHasItems() {\n            return this.cartQuantity > 0;\n        }\n    },\n    methods: {\n        createInlineStyles() {\n            let inlineStyles = document.querySelectorAll(\".inline-style\");\n            let styleTag = document.createElement(\"style\");\n            styleTag.type = \"text/css\";\n            document.body.appendChild(styleTag);\n            for (let i = 0; i < inlineStyles.length; i++) {\n                let inlineStyle = inlineStyles[i];\n                let style = inlineStyle.getAttribute(\"data-style\");\n                styleTag.innerHTML += style;\n            }\n        },\n\n        // --- CART LOGIC ---\n        async addToCart(cartData) {\n            try {\n                const params = new URLSearchParams();\n                params.append('action', 'add_to_cart');\n                for (let key in cartData) {\n                    if (cartData.hasOwnProperty(key)) {\n                        params.append(key, cartData[key]);\n                    }\n                }\n                const response = await fetch(myVueObj.ajaxUrl, {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n                    body: params\n                });\n                const data = await response.json();\n                console.log('Add to cart response:', data); // Debug log\n                if (data.success) {\n                    this.cartQuantity = this.calculateCartQuantity(data.data);\n                    this.updateMenuCartDisplay();\n                }\n                return data;\n            } catch (error) {\n                console.error('Add to cart error:', error); // Debug log\n                return { success: false, error };\n            }\n        },\n        async updateCartQuantity(updateData) {\n            try {\n                const params = new URLSearchParams();\n                params.append('action', 'update_cart_quantity');\n                for (let key in updateData) {\n                    if (updateData.hasOwnProperty(key)) {\n                        params.append(key, updateData[key]);\n                    }\n                }\n                const response = await fetch(myVueObj.ajaxUrl, {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n                    body: params\n                });\n                const data = await response.json();\n                console.log('Update cart response:', data); // Debug log\n                if (data.success) {\n                    this.cartQuantity = this.calculateCartQuantity(data.data);\n                    this.updateMenuCartDisplay();\n                }\n                return data;\n            } catch (error) {\n                console.error('Update cart error:', error); // Debug log\n                return { success: false, error };\n            }\n        },\n        async removeFromCart(removeData) {\n            try {\n                const params = new URLSearchParams();\n                params.append('action', 'remove_from_cart');\n                for (let key in removeData) {\n                    if (removeData.hasOwnProperty(key)) {\n                        params.append(key, removeData[key]);\n                    }\n                }\n                const response = await fetch(myVueObj.ajaxUrl, {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n                    body: params\n                });\n                const data = await response.json();\n                console.log('Remove from cart response:', data); // Debug log\n                if (data.success) {\n                    this.cartQuantity = this.calculateCartQuantity(data.data);\n                    this.updateMenuCartDisplay();\n                }\n                return data;\n            } catch (error) {\n                console.error('Remove from cart error:', error); // Debug log\n                return { success: false, error };\n            }\n        },\n        async getCartCount() {\n            try {\n                const response = await fetch(myVueObj.ajaxUrl + '?action=get_cart_count');\n                const data = await response.json();\n                console.log('Get cart count response:', data); // Debug log\n                if (data.success) {\n                    this.cartQuantity = this.calculateCartQuantity(data.data);\n                    this.updateMenuCartDisplay();\n                }\n                return data;\n            } catch (error) {\n                console.error('Get cart count error:', error); // Debug log\n                return { success: false, error };\n            }\n        },\n        async refreshCartCount() {\n            try {\n                const response = await fetch(myVueObj.ajaxUrl + '?action=get_cart_count');\n                const data = await response.json();\n                console.log('Refresh cart count response:', data); // Debug log\n                if (data.success) {\n                    this.cartQuantity = this.calculateCartQuantity(data.data);\n\n                    // Also update the global window.cartCount for consistency\n                    window.cartCount = this.cartQuantity;\n\n                    // Force update of menu cart display\n                    this.updateMenuCartDisplay();\n\n                    // Force Vue reactivity update\n                    this.$forceUpdate();\n                }\n                return data;\n            } catch (error) {\n                console.error('Failed to refresh cart count:', error);\n                return { success: false, error };\n            }\n        },\n        calculateCartQuantity(cartData) {\n            if (!cartData) return 0;\n\n            console.log('Calculating cart quantity for:', cartData); // Debug log\n\n            // Handle different cart data structures\n            return Object.values(cartData).reduce((sum, item) => {\n                let qty = 0;\n\n                if (typeof item === 'number') {\n                    qty = item;\n                } else if (typeof item === 'object' && item !== null) {\n                    // Handle object with quantity property\n                    qty = item.quantity || item.qty || 0;\n                } else if (typeof item === 'string') {\n                    qty = parseInt(item, 10) || 0;\n                }\n\n                return sum + qty;\n            }, 0);\n        },\n        updateMenuCartDisplay() {\n            // Update cart count in menu (plain JS)\n            const menuLinks = document.querySelectorAll('.menu-item a');\n            for (let i = 0; i < menuLinks.length; i++) {\n                if (menuLinks[i].textContent.indexOf('Cart') !== -1) {\n                    menuLinks[i].textContent = `ðŸ›’ Cart (${this.cartQuantity})`;\n                }\n            }\n        },\n        // --- END CART LOGIC ---\n\n        // Multi-select category methods\n        toggleCategory(category) {\n            const index = this.selectedCategories.findIndex(cat => cat.slug === category.slug);\n            if (index === -1) {\n                // Add the category if it's not already selected\n                this.selectedCategories.push(category);\n            } else {\n                // Remove the category if it's already selected\n                this.removeCategory(category.slug);\n            }\n        },\n\n        removeCategory(slug) {\n            this.selectedCategories = this.selectedCategories.filter(cat => cat.slug !== slug);\n        },\n\n        clearAllCategories() {\n            this.selectedCategories = [];\n        },\n\n        isCategorySelected(slug) {\n            return this.selectedCategories.some(cat => cat.slug === slug);\n        },\n\n        // Sorting method\n        setSortOrder(order) {\n            this.sortOrder = order;\n        },\n\n        // --- NAVIGATION LOGIC ---\n        toggleMobileMenu() {\n            this.mobileMenuOpen = !this.mobileMenuOpen;\n            const nav = document.getElementById('navbar-sticky');\n            if (nav) {\n                if (this.mobileMenuOpen) {\n                    nav.classList.remove('hidden');\n                } else {\n                    nav.classList.add('hidden');\n                }\n            }\n        },\n        closeMobileMenuOnLink() {\n            if (this.isMobile && this.mobileMenuOpen) {\n                this.toggleMobileMenu();\n            }\n        }\n        // --- END NAVIGATION LOGIC ---\n    },\n    mounted() {\n        window.addEventListener(\"resize\", this.updateWindowWidth);\n        console.log('myVueObj', myVueObj);\n\n        // Load initial cart count\n        this.refreshCartCount();\n\n        // Set up periodic cart count refresh (optional - uncomment if needed)\n        // setInterval(() => {\n        //     this.refreshCartCount();\n        // }, 30000); // Refresh every 30 seconds\n\n        // --- NAVIGATION LOGIC ---\n        // Hamburger button\n        const hamburger = document.querySelector('[data-collapse-toggle=\"navbar-sticky\"]');\n        if (hamburger) {\n            hamburger.addEventListener('click', this.toggleMobileMenu);\n        }\n        // Close menu on link click (mobile)\n        const navLinks = document.querySelectorAll('#navbar-sticky a');\n        navLinks.forEach(link => {\n            link.addEventListener('click', this.closeMobileMenuOnLink);\n        });\n    }\n});"]}